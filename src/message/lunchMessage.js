const schedule = require('node-schedule');

const lunchMessage = (client, groupChatId) => {
  schedule.scheduleJob('20 14 * * 1-5', () => {
    console.log('–ù–∞–¥—Å–∏–ª–∞—î–º–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≥—Ä—É–ø—ñ:', groupChatId);

    client
      .sendMessage(
        groupChatId,
        '–î–æ–±—Ä–æ–≥–æ –¥–Ω—è! üòä –¢–∏–º, —Ö—Ç–æ —â–µ –Ω–µ –ø–æ–¥–∞–≤ –∑–∞—è–≤–∫–∏, –±—É–¥—å –ª–∞—Å–∫–∞, –∑—Ä–æ–±—ñ—Ç—å —Ü–µ —è–∫–æ–º–æ–≥–∞ —à–≤–∏–¥—à–µ. –£ –ø—Ä–æ—Ç–∏–ª–µ–∂–Ω–æ–º—É –≤–∏–ø–∞–¥–∫—É –≤–∞—à—ñ –º–∞—à–∏–Ω–∏ –º–æ–∂—É—Ç—å –Ω–µ –±—É—Ç–∏ –≤–∫–ª—é—á–µ–Ω—ñ –≤ –ø–ª–∞–Ω—É–≤–∞–Ω–Ω—è. –î—è–∫—É—î–º–æ –∑–∞ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ç–∞ —Å–ø—ñ–≤–ø—Ä–∞—Ü—é!',
      )
      .then(() => {
        console.log('–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –Ω–∞–¥—ñ—Å–ª–∞–Ω–æ lunchMessage');
      })
      .catch((error) => {
        console.error('–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –Ω–∞–¥—Å–∏–ª–∞–Ω–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è:', error);
      });
  });
};

module.exports = lunchMessage;
